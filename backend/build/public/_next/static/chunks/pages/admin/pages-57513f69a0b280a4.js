(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[370],{9078:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/pages",function(){return t(1228)}])},1228:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return N}});var i=t(5893),s=t(7294),a=t(1664),r=t.n(a),c=t(7760),l=t(75),o=t(9478),d=t(5279),x=t(1004),h=t(990),g=t(6788),j=t(4677),p=t(8573),u=t(762),Z=t(1919),f=t(1873),m=t(1574),w=t(2857),_=t(8006),y=t(4563),b=t(4279),v=t(4453),P=t(5904);let k=(0,s.memo)(function(e){let{page:n,onDelete:t}=e;return(0,i.jsx)(p.ZP,{item:!0,xs:12,children:(0,i.jsx)(u.Z,{elevation:3,children:(0,i.jsxs)(Z.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:2},children:[(0,i.jsxs)(h.Z,{sx:{flex:1,minWidth:0},children:[(0,i.jsxs)(m.Z,{direction:"row",spacing:1,alignItems:"center",sx:{mb:1},children:[(0,i.jsx)(P.Z,{color:"action",fontSize:"small"}),(0,i.jsx)(g.Z,{variant:"h6",fontWeight:700,noWrap:!0,children:n.title||"(Untitled)"})]}),(0,i.jsxs)(m.Z,{direction:"row",spacing:2,sx:{color:"text.secondary"},children:[(0,i.jsx)(f.Z,{size:"small",label:n.status,color:"published"===n.status?"success":"default"}),(0,i.jsxs)(g.Z,{variant:"caption",title:n.slug,noWrap:!0,children:["/",n.slug]}),(0,i.jsx)(g.Z,{variant:"caption",children:new Date(n.created_at).toLocaleDateString()})]})]}),(0,i.jsxs)(m.Z,{direction:"row",spacing:1,children:[(0,i.jsx)(_.Z,{title:"Edit",children:(0,i.jsx)(w.Z,{component:r(),href:"/admin/pages/".concat(n.id),color:"primary",children:(0,i.jsx)(b.Z,{})})}),(0,i.jsx)(_.Z,{title:"Delete",children:(0,i.jsx)(w.Z,{color:"error",onClick:()=>t(n.id),children:(0,i.jsx)(v.Z,{})})})]})]})})})});function N(){let{loading:e,accessToken:n}=(0,c.a)(!0),{posts:t,loading:s,remove:a}=(0,l.k)(n,1,"page"),f=async e=>{if(confirm("Delete this page? This action cannot be undone."))try{await a(e)}catch(e){alert("Failed to delete page: "+e.message)}};return e||!n?(0,i.jsx)(d.IZ,{}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(x.Z,{title:"Manage Pages"}),(0,i.jsxs)(o.Z,{title:"Pages",backHref:"/admin",children:[(0,i.jsxs)(h.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[(0,i.jsx)(g.Z,{variant:"h4",fontWeight:700,children:"Pages"}),(0,i.jsx)(j.Z,{component:r(),href:"/admin/pages/new",variant:"contained",startIcon:(0,i.jsx)(y.Z,{}),children:"New Page"})]}),s?(0,i.jsx)(g.Z,{children:"Loading pages..."}):0===t.length?(0,i.jsx)(u.Z,{elevation:2,children:(0,i.jsx)(Z.Z,{children:(0,i.jsx)(g.Z,{variant:"body1",color:"text.secondary",children:"No pages yet. Create your first page to get started!"})})}):(0,i.jsx)(p.ZP,{container:!0,spacing:3,sx:{mt:0},children:t.map(e=>(0,i.jsx)(k,{page:e,onDelete:f},e.id))})]})]})}}},function(e){e.O(0,[737,736,592,888,179],function(){return e(e.s=9078)}),_N_E=e.O()}]);