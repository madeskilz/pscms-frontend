(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[922],{843:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/posts/[slug]",function(){return n(8751)}])},8751:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return g}});var i=n(5893),s=n(1163),o=n(610),a=n(8007),r=n(7294),l=n(9901),d=n(1004),c=n(5279),u=n(1664),h=n.n(u),f=n(1032),x=n(990),m=n(6788),p=n(762),_=n(1919),j=n(4677),y=n(5292),Z=n(3454);function g(){var t;let e=(0,s.useRouter)(),{theme:u,currentThemeId:g}=(0,a.F)(),[b,v]=(0,r.useState)(null),[E,F]=(0,r.useState)(null),[k,w]=(0,r.useState)(null);if((0,r.useEffect)(()=>{n(9445)("./".concat(g||"classic","/components/Hero")).then(t=>v(()=>t.default)).catch(()=>{n.e(291).then(n.bind(n,7291)).then(t=>v(()=>t.default))})},[g]),(0,r.useEffect)(()=>{if(!e.isReady)return;let{slug:t}=e.query,n=!0;return(0,o.xl)(t,null).then(t=>{if(!n)return;let e=t.data;if("published"!==e.status){w("Post not published");return}F(e)}).catch(t=>w((null==t?void 0:t.message)||"Failed to load post")),()=>{n=!1}},[e.isReady,e.query]),e.isFallback)return(0,i.jsx)(l.Z,{children:(0,i.jsx)(c.eC,{})});if(k||!E)return(0,i.jsxs)(l.Z,{children:[(0,i.jsx)(d.Z,{title:"Post Not Found"}),(0,i.jsxs)(f.Z,{maxWidth:"md",sx:{py:8},children:[(0,i.jsx)(m.Z,{variant:"h3",fontWeight:700,color:"error",gutterBottom:!0,sx:{fontFamily:u.fonts.heading},children:"Post not found"}),(0,i.jsx)(j.Z,{component:h(),href:"/",variant:"outlined",startIcon:(0,i.jsx)(y.Z,{}),sx:{fontFamily:u.fonts.body},children:"Back to home"})]})]});let N=(null===(t=E.content)||void 0===t?void 0:t.replace(/<[^>]*>/g,"").slice(0,160))||"";return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(d.Z,{title:E.title,description:N,article:!0,publishedTime:E.created_at,modifiedTime:E.updated_at,keywords:E.tags||[]}),(0,i.jsx)(d.c,{type:"Article",data:{headline:E.title,datePublished:E.created_at,dateModified:E.updated_at,description:N,author:{"@type":"Organization",name:Z.env.NEXT_PUBLIC_SITE_NAME||"School CMS"}}}),(0,i.jsxs)(l.Z,{disableContainer:!0,children:[b?(0,i.jsx)(b,{title:E.title,subtitle:new Date(E.created_at).toLocaleDateString()}):(0,i.jsx)(c.eC,{}),(0,i.jsx)(f.Z,{maxWidth:"md",sx:{py:8},children:(0,i.jsx)(p.Z,{elevation:4,children:(0,i.jsxs)(_.Z,{sx:{p:{xs:3,md:5}},children:[(0,i.jsx)(x.Z,{sx:{"& img":{maxWidth:"100%",borderRadius:2},"& h1, & h2, & h3, & h4":{fontFamily:u.fonts.heading,fontWeight:700},"& p":{lineHeight:1.7}},dangerouslySetInnerHTML:{__html:E.content}}),(0,i.jsx)(x.Z,{sx:{mt:4},children:(0,i.jsx)(j.Z,{component:h(),href:"/",startIcon:(0,i.jsx)(y.Z,{}),variant:"contained",color:"primary",sx:{fontFamily:u.fonts.body},children:"Back to home"})})]})})})]})]})}}},function(t){t.O(0,[737,736,592,888,179],function(){return t(t.s=843)}),_N_E=t.O()}]);